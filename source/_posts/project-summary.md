---
title: 云平台项目总结
date: 2018-01-26 09:41:19
tags: [OpenStack]
categories: SRE
---

# 山西临汾

设备清单：



- 刀片服务器：10 台，其中 1 台控制节点，7 台计算节点，1 台存储节点，1 台备用
- 交换机：三种 5 台，其中分为 A1，A2，C1，C2 和 IB 交换机

IP 地址分为三类：

- 管理 IP
- 虚拟机访问外网 IP
- 存储 IP

> 备注：管理 IP 连接的是 A1 交换机，虚拟机是 A2 交换机，存储 IP 是 IB 交换机。另，只有***存储***连接了融合交换机 C1、C2，其他刀片未连接。存储节点连接后端的存储阵列，将虚拟机的数据存入阵列。

7 台计算节点上，每一台都装了 Ceph，用来存储虚拟机的系统盘，而虚拟机的数据盘则通过存储节点由存储阵列提供，存储节点上的 cinder 通过 iscsi 连接存储阵列。

# 大邑

这个拓扑相对简单，只有 1 个控制节点，1 个存储节点，2 个计算节点，1 台交换机，计算节点上也是 Ceph 存放虚拟机系统盘，这上面的虚拟机主要是 windows 系统，通过 windows 直连 iscsi 存储，没有通过 cinder。